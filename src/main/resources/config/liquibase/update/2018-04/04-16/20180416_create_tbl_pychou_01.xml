<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd
                        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    <changeSet id="2018-04-16-pychou-01" author="Patrick Chou">
      <sql>
        create type odos_crrs_svc.activ_ind as enum ('Y', 'N');

        create table odos_crrs_svc.bldg (
          bldg_id serial not null,
          bldg_nm varchar(200) not null,
          bldg_dsc varchar(200),
          primary key (bldg_id)
        );

        create table odos_crrs_svc.conf_rm (
          conf_rm_id serial not null,
          rm_num int not null,
          rm_name varchar(200) not null,
          rm_capcity int not null,
          rm_active_ind odos_crrs_svc.activ_ind,
          bldg_id int not null references odos_crrs_svc.bldg (bldg_id),
          primary key (conf_rm_id)
        );

        create table odos_crrs_svc.equip (
          equip_id serial not null,
          equip_name varchar(200) not null,
          equip_desc text not null,
          primary key (equip_id)
        );

        create table odos_crrs_svc.conf_rm_equip (
          conf_rm_equp_id serial not null,
          conf_rm_id int not null references odos_crrs_svc.conf_rm (conf_rm_id),
          equip_id int not null references odos_crrs_svc.equip (equip_id),
          primary key (conf_rm_equp_id)
        );

        create table odos_crrs_svc.conf_sched (
          conf_sch_id serial not null,
          conf_rm_id int not null references odos_crrs_svc.conf_rm (conf_rm_id),
          req_id int not null,
          start_dttm date not null,
          ednt_dttm date not null,
          conf_title varchar(200) not null,
          primary key (conf_sch_id)
        );
      </sql>
    </changeSet>
</databaseChangeLog>